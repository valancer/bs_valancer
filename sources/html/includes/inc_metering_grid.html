<!-- grid container -->
<fieldset class="aggrid-uitls">
	<legend>Data Search &amp; uitls</legend>

	<p class="right-content">
		<button type="button" class="btn-text export export_open">Export</button>
		<button type="button" class="btn-text size-view">Wide View</button>
	</p>

	<div id="export" class="popover small export">
		<span class="point"></span>

		<ul>
			<li><button type="button">Export Graph</button></li>
			<li><button type="button">Export Table</button></li>
		</ul>
	</div>

	<p class="left-content">
		<p class="paging-status">
			<span class="total">3201</span> 중 <span class="current">1-200</span>

			<span class="count">
				페이지당
				<select name="" id="">
					<option value="">100</option>
					<option value="">200</option>
					<option value="">500</option>
					<option value="">1000</option>
				</select>
				개의 행 보기
			</span>
		</p>
<!--
		<label for="filter01" class="icheck">
			<input type="radio" id="filter01" name="filter" class="iradio">
			All
		</label>
		<label for="filter02" class="icheck">
			<input type="radio" id="filter02" name="filter" class="iradio">
			Remaining only
		</label>
-->
	</p>

	<script>
		$(document).ready(function(e) {
			// export
			$('#export').popup({
				type: 'tooltip',
				vertical: 'bottom',
				horizontal: 'center',
				offsettop: 10,
				transition: '0.3s all 0.1s'
			});


			// default/wide view
			$('.btn-text.size-view').on('click', function() {
				var $this = $(this);
				var $container = $('article.contents .size-fit');

				if( $this.hasClass('default') ) {
					$this.removeClass('default');
					$this.text('Wide View');
					$container.removeClass('fullsize');

					$('.slick-container').slick('setPosition');
				} else {
					$this.addClass('default');
					$this.text('Default View');
					$container.addClass('fullsize');

					$('.slick-container').slick('setPosition');
				}
			});
		});
	</script>
</fieldset>



<div id="myGrid" class="ag-bespin-global" style="position: relative; height: 500px;">
	<aside id="grid-detail" class="grid-detail">
		<button type="button" data-target="#grid-detail" class="btn-close">popup close</button>

		<h2 class="title">asdftp-asd32</h2>
		<dl>
			<dt>COLUMN TITLE01</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE02</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE03</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE04</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE05</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE03</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE04</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE05</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE03</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE04</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE05</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE03</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE04</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE05</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE03</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE04</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE05</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE03</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE04</dt>
			<dd>column value</dd>

			<dt>COLUMN TITLE05</dt>
			<dd>column value</dd>
		</dl>
	</aside>
</div>

<div class="grid-bottom">
<!--
	<a href="#" class="btn-more">+ MORE</a>
-->
	<a href="#" class="btn-first"></a>
	<a href="#" class="btn-prev"></a>
	<a href="#">1</a>
	<a href="#">2</a>
	<a href="#">3</a>
	<a href="#">4</a>
	<a href="#">5</a>
	<a href="#">6</a>
	<a href="#">7</a>
	<a href="#">8</a>
	<a href="#">9</a>
	<a href="#" class="is-selected">10</a>
	<a href="#">11</a>
	<a href="#">12</a>
	<a href="#">13</a>
	<a href="#">14</a>
	<a href="#">15</a>
	<a href="#">16</a>
	<a href="#">17</a>
	<a href="#">18</a>
	<a href="#">19</a>
	<a href="#">20</a>
	<a href="#" class="btn-next"></a>
	<a href="#" class="btn-last"></a>
</div>

<script>
var columnDefs = [
    {
        headerName: "Athlete Details",
        marryChildren: true,
        children: [
            {headerName: "Athlete", field: "athlete", width: 150, filter: 'text'},
            {headerName: "Country", field: "country", width: 120}
        ]
    },
    {
        headerName: "Sports Results",
        children: [
            {headerName: "Sport", field: "sport", width: 110},
            {headerName: "Total", columnGroupShow: 'closed', field: "total", width: 100, filter: 'number'},
            {headerName: "Gold", columnGroupShow: 'open', field: "gold", width: 100, filter: 'number'},
            {headerName: "Silver", columnGroupShow: 'open', field: "silver", width: 100, filter: 'number'},
            {headerName: "Bronze", columnGroupShow: 'open', field: "bronze", width: 100, filter: 'number'}
        ]
    }
    ];

var gridOptions = {
    columnDefs: columnDefs,
    rowSelection: 'single',
    onSelectionChanged: onSelectionChanged,
    rowData: null,
    enableFilter: true,
    enableSorting: true,
    headerHeight: 40,
	headerCellTemplate:
		'<div class="ag-header-cell">' +
		'<div id="agResizeBar" class="ag-header-cell-resize"></div>' +
		'<span id="agMenu" class="ag-header-icon ag-header-cell-menu-button"></span>' +
		'<div id="agHeaderCellLabel" class="ag-header-cell-label">' +
		'	<span id="agText" class="ag-header-cell-text"></span>' +
		'	<span id="agSortAsc" class="ag-header-icon ag-sort-ascending-icon"></span>' +
		'	<span id="agSortDesc" class="ag-header-icon ag-sort-descending-icon"></span>' +
		'	<span id="agNoSort" class="ag-header-icon ag-sort-none-icon"></span>' +
		'	<span id="agFilter" class="ag-header-icon ag-filter-icon"></span>' +
		'</div>',
	getRowHeight: function(params) {
		return 40;
	}
};


function onSelectionChanged() {
	$('#grid-detail').addClass('is-opened');
	$('.grid-detail .btn-close').off().on('click', function(e) {
		var target = $(this).data('target');
		$(target).removeClass('is-opened');
	});
}

// setup the grid after the page has finished loading
document.addEventListener('DOMContentLoaded', function() {
    var gridDiv = document.querySelector('#myGrid');
    new agGrid.Grid(gridDiv, gridOptions);

    // do http request to get our sample data - not using any framework to keep the example self contained.
    // you will probably use a framework like JQuery, Angular or something else to do your HTTP calls.
    var httpRequest = new XMLHttpRequest();
    httpRequest.open('GET', '/assets/scripts/json/olympicWinners.json');
    httpRequest.send();
    httpRequest.onreadystatechange = function() {
        if (httpRequest.readyState == 4 && httpRequest.status == 200) {
            var httpResult = JSON.parse(httpRequest.responseText);
            gridOptions.api.setRowData(httpResult);
            gridOptions.api.sizeColumnsToFit();
        }
    };
});
</script>
<!--// grid container -->
