@@include('./head.html', {
	"lang": "en",
	"title": "Bespin Global"
})
<body class="asset">

	<!-- 상단 영역 -->
	@@include('./header.html', {"service": "asset"})


	<!-- 본문 영역 -->
	<main>
		<article class="contents">
			<div class="inner">
				
				@@include('./inc_asset_filter.html')

				<!--  -->
				<div class="filter-util">
					<div class="page-tabs">
						<p class="inner">
							<a href="#" class="is-selected">CURRENT</a>
							<a href="#">HISTORY</a>
						</p>
					</div>


					<div class="left-content">
					</div>


					<div class="right-content">
						<button type="button" class="btn-text show-hide">hide graph</button>
					</div>
				</div>

				

				<!-- graph container -->
				<div class="graph-container">
					graph area
				</div>
				<!--// graph container -->


				<!-- grid container -->
				<div id="myGrid" class="ag-bespin-global"></div>

				<script>
				var columnDefs = [
				    {headerName: "Athlete", field: "athlete", sort: 'desc'},
				    {headerName: "Age", field: "age"},
				    {headerName: "Country", field: "country"},
				    {headerName: "Year", field: "year", unSortIcon: true},
				    {headerName: "Date", field: "date", comparator: dateComparator},
				    {headerName: "Sport", field: "sport"},
				    {headerName: "Gold", field: "gold"},
				    {headerName: "Silver", field: "silver"},
				    {headerName: "Bronze", field: "bronze"},
				    {headerName: "Total", field: "total"}
				];

				function dateComparator(date1, date2) {
				    var date1Number = monthToComparableNumber(date1);
				    var date2Number = monthToComparableNumber(date2);

				    if (date1Number===null && date2Number===null) {
				        return 0;
				    }
				    if (date1Number===null) {
				        return -1;
				    }
				    if (date2Number===null) {
				        return 1;
				    }

				    return date1Number - date2Number;
				}

				// eg 29/08/2004 gets converted to 20040829
				function monthToComparableNumber(date) {
				    if (date === undefined || date === null || date.length !== 10) {
				        return null;
				    }

				    var yearNumber = date.substring(6,10);
				    var monthNumber = date.substring(3,5);
				    var dayNumber = date.substring(0,2);

				    var result = (yearNumber*10000) + (monthNumber*100) + dayNumber;
				    return result;
				}

				var gridOptions = {
				    columnDefs: columnDefs,
				    rowData: null,
				    enableSorting: true,
				    headerHeight: 52,
					getRowHeight: function(params) {
						return 52;
					}
				};

				// setup the grid after the page has finished loading
				document.addEventListener('DOMContentLoaded', function() {
				    var gridDiv = document.querySelector('#myGrid');
				    new agGrid.Grid(gridDiv, gridOptions);

				    // do http request to get our sample data - not using any framework to keep the example self contained.
				    // you will probably use a framework like JQuery, Angular or something else to do your HTTP calls.
				    var httpRequest = new XMLHttpRequest();
				    httpRequest.open('GET', '/assets/scripts/json/olympicWinners.json');
				    httpRequest.send();
				    httpRequest.onreadystatechange = function() {
				        if (httpRequest.readyState == 4 && httpRequest.status == 200) {
				            var httpResult = JSON.parse(httpRequest.responseText);
				            gridOptions.api.setRowData(httpResult);
				            gridOptions.api.sizeColumnsToFit();
				        }
				    };
				});
				</script>
				<!--// grid container -->


			</div>
		</article>
	</main>

	
	<!-- 하단 영역 -->
	@@include('./footer.html')

</body>
</html>